<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>练习</title>
    <script>
        window.onload = function(){
            const checkAllBtn = document.getElementById("check-all");
            /*1、全选功能：点击按钮后，使四个多选框都变成选中状态*/
            //获取四个多选框
            const hobbies = document.getElementsByName("hobby");
            //获取全选按钮
            const all = document.getElementById("all");
            //为按钮绑定单机响应函数
            all.onclick = function(){
                 //将多选框设置为选中状态
                for(let i=0;i<hobbies.length;i++){
                    hobbies[i].checked = true;
                }
                checkAllBtn.checked = true;
            }

            /*2、取消功能：点击按钮后，取消所有的选中状态*/
            //获取取消按钮
            const no = document.getElementById("no");
            no.onclick = function(){
                for(let i = 0;i<hobbies.length;i++){
                    hobbies[i].checked = false;
                }
                checkAllBtn.checked = false;
            }

            /*3、反选按钮：点击按钮，选中的取消，没选中的选中*/
            const reverse = document.getElementById("reverse");
            reverse.onclick = function(){
                for(let i = 0;i<hobbies.length;i++){
                   hobbies[i].checked = !hobbies[i].checked;//好好理解这里
                }
                if(hobbies.length === checkedBox.length){
                            checkAllBtn.checked = true;
                        }else{
                            checkAllBtn.checked = false;
                        }
            }

            /*4、提交：点击按钮后，将选中内容显示出来*/
            const send = document.getElementById("send");
            send.onclick = function(){
                for(let i = 0;i<hobbies.length;i++){
                    //方式一
                    // if(hobbies[i].checked){
                    //     alert(hobbies[i].value);
                    // }   
                    //方式二
                    hobbies[i].checked && alert(hobbies[i].value);
                }
            }

            /*5、功能：正向同步：全选checkbox发生变化后，将小的checkbox和它同步*/
            //获取大全选按钮
            // const checkAllBtn = document.getElementById("check-all");
            checkAllBtn.onchange = function(){
                for(let i = 0;i<hobbies.length;i++){
                    hobbies[i].checked = checkAllBtn.checked;
                }
            }

            /*6、功能：使全选checkbox和4个cjeckbox进行同步：如果四个全选中了，则全选checkbox也选中；
            如果四个没有全选中，则全选checkbox也没有选中；*/
            for(let i = 0;i<hobbies.length;i++){
                    hobbies[i].onchange = function(){
                        //判断hobies是否全选：若全选，则checkAllBtn也选中
                        //获取所有选中的hobby
                        const checkedBox = document.querySelectorAll("[name=hobby]:checked");
                        //证明全选中
                        if(hobbies.length === checkedBox.length){
                            checkAllBtn.checked = true;
                        }else{
                            checkAllBtn.checked = false;
                        }
                    };
                }
        }
        
    </script>

</head>
<body>
    <div>
        <form action="#">

            <div>
                请选择你的爱好:
                <input type="checkbox" id="check-all">全选
            </div>

            <div>
                <input type="checkbox" name="hobby" value="乒乓球" >乒乓球
                <input type="checkbox" name="hobby" value="篮球">篮球
                <input type="checkbox" name="hobby" value="羽毛球">羽毛球
                <input type="checkbox" name="hobby" value="足球">足球
            </div>

            <div>
                <button type="button" id="all">全选</button>
                <button type="button" id="no">取消</button>
                <button type="button" id="reverse">反选</button>
                <button type="button" id="send">提交</button>
            </div>

        </form>
    </div>
  
</body>
</html>