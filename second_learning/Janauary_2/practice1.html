<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>切换图片的练习</title>
    <style>

    </style>
    <script type="text/javascript">
        window.onload = function(){
            //获取img标签
            var img1 = document.getElementById("img1");
            //创建一个数组来保存图片的路径
            var imgArr = ["../picture/1.jpg","../picture/2.jpg","../picture/3.jpg","../picture/4.jpg","../picture/5.jpg"];
            //创建一个变量，保存当前图片的索引
            var index = 0;
            //定义一个变量，保存定时器的标识
            var timer;
            /*为btn01绑定一个单击响应函数*/
            var btn01 = document.getElementById("btn01");  
            btn01.onclick = function(){
                /*目前。，我们每点击一次按钮，就会开启一个定时器，
                点击多次就会开启多个定时器，这就会导致图片的切换速度过快，并且我们只能关闭最后一次开启的定时器*/
                /*开启定时器之前，需要将当前元素上的其他定时器关闭，避免出现速度过快的情况*/
                clearInterval(timer);
                //开启一个定时器自动切换图片
                timer = setInterval(function(){
                    //使索引自增
                    index++;
                    //方法一：判断索引是否超过最大索引
                    if(index >= imgArr.length){
                        //将index设置为0
                        index = 0;
                    }
                    // //方法二：判断索引是否超过最大索引
                    // index = index % imgArr.length;
                    //修改img1的属性
                    img1.src = imgArr[index];
                },1000);
            };

            /*为btn02绑定一个单击响应函数*/
            var btn02 = document.getElementById("btn02");
            btn02.onclick = function(){
                //点击按钮以后，停止图片的自动切换，关闭定时器
                clearInterval(timer);
            };
            
        }

    </script>
</head>
<body>
    <img id="img1" src="../picture/1.jpg"/>
    <br/><br/>
    <button id="btn01">开始</button>
    <button id="btn02">停止</button>
    
</body>
</html>